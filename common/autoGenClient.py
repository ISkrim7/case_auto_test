#!/usr/bin/env python# -*- coding:utf-8 -*-# @Time : 2025/3/26# @Author : cyq# @File : autoGenClient# @Software: PyCharm# @Desc:import asyncioimport jsonimport refrom autogen_agentchat.agents import AssistantAgentfrom autogen_ext.models.openai import OpenAIChatCompletionClientDEEPSEEK_API_KEY = "sk-x"DEEPSEEK_API_BASE = "https://dashscope.aliyuncs.com/compatible-mode/v1"async def main() -> None:    qwen = OpenAIChatCompletionClient(model="qwen-plus",                                                 base_url=DEEPSEEK_API_BASE,                                                 api_key=DEEPSEEK_API_KEY,                                                 model_info={"vision": False,                                                             "function_calling": False,                                                             "json_output": True,                                                             "family": "qwen-plus"}, )    # 配置 AutoGen 代理    assistant = AssistantAgent(        name="qwen",        model_client=qwen,        system_message="你是一个资深测试工程师，擅长编写符合ISTQB标准的测试用例，尤其精通[Web/API/移动端]测试。",    )    res = await assistant.run(task="""x请返回 JSON格式 不是markdown 格式[{"index":1,"scenario":"场景","expect“:"预期结果“,"before":"前置步骤“}，...]    """)    print(res)    text = res.messages[1].content    if '```json' in text:        json_str = text.split('```json')[1].split('```')[0]    else:        json_str = text    jl = json.loads(json_str)    for j in jl:        print(j)    # await deepseek_client.close()if __name__ == '__main__':    asyncio.run(main())
#!/usr/bin/env python# -*- coding:utf-8 -*-# @Time : 2024/6/15# @Author : cyq# @File : __init__.py# @Software: PyCharm# @Desc:from fastapi import statusfrom fastapi.responses import JSONResponsefrom fastapi.encoders import jsonable_encoderfrom sqlalchemy.exc import SQLAlchemyErrorfrom enums import HttpCodeEnumclass BaseError(Exception):    def __init__(self, message: str):        self.message = message    def add_raise(self):        ...class CommonError(BaseError):    def add_raise(self):        return JSONResponse(            status_code=status.HTTP_200_OK,            content=jsonable_encoder({                "code": HttpCodeEnum.SERVICE_ERROR,                "data": None,                "msg": self.message            }))class AuthError(BaseError):    """    权限异常    """    def add_raise(self):        return JSONResponse(            status_code=status.HTTP_200_OK,            content=jsonable_encoder({                "code": HttpCodeEnum.AUTH_ERROR,                "data": None,                "msg": self.message            }))class NotFind(BaseError):    """    db 查询自定义    """    def add_raise(self):        return JSONResponse(            status_code=status.HTTP_200_OK,            content=jsonable_encoder({                "code": HttpCodeEnum.DB_NOT_FIND,                "data": None,                "msg": self.message            }))class ParamsError(ValueError):    """    参数错误    """    ...class UIRuntimeError(Exception):    """    运行时异常    """    ...class SQLAlchemyErrorHandler(SQLAlchemyError):    """    sqlalchemy 异常    """    @staticmethod    def add_raise():        return JSONResponse(            status_code=status.HTTP_200_OK,            content=jsonable_encoder({                "code": HttpCodeEnum.DB_CONNECT_ERROR,                "data": None,                "msg": "db执行异常"            }))
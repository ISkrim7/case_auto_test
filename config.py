#!/usr/bin/env python# -*- coding:utf-8 -*-# @Time : 2024/6/6# @Author : cyq# @File : config# @Software: PyCharm# @Desc:import osimport picklefrom apscheduler.jobstores.redis import RedisJobStorefrom apscheduler.jobstores.sqlalchemy import SQLAlchemyJobStorefrom dotenv import load_dotenvclass BaseConfig:    ROOT = os.path.dirname(os.path.abspath(__file__))    # 截图配置    SCREENSHOT_DIR = os.path.join(ROOT, "screenshots")    ERROR_SCREENSHOT_DIR = os.path.join(SCREENSHOT_DIR, "errors")    SECRET_KEY = "HARD TO GUESS"    MYSQL_DATABASE = 'autohub'    MYSQL_PORT: int = 8026    #MYSQL_PORT: int = 39563    REDIS_PORT = 6379    # sqlalchemy    SQLALCHEMY_DATABASE_URI: str = ''    # 异步URI    ASYNC_SQLALCHEMY_URI: str = ''    SQLALCHEMY_TRACK_MODIFICATIONS = False    Email_Sender_Username = "***@163.com"    Email_Sender_Password = "***"    Smtp_Server = "smtp.163.com"    Smtp_port = 587    WeChatBaseUrl = "https://qyapi.weixin.qq.com/cgi-bin/webhook/send"    Banner = """         ██████╗  █████╗ ███████╗███████╗    ██╗  ██╗██╗   ██╗████████╗         ██╔════╝ ██╔══██╗██═════╝██═════╝    ██║  ██║██║   ██║██     ██╗        ██║      ███████║███████╗███████╗    ███████║██║   ██║███████╔═╝        ██║      ██╔══██║╚════██║██═════╝    ██╔══██║██║   ██║██     ██╗        ╚██████╗ ██║  ██║███████║███████╗    ██║  ██║╚██████╔╝████████╔╝            ╚═════╝ ╚═╝  ╚═╝╚══════╝╚══════╝    ╚═╝  ╚═╝ ╚═════╝ ╚═══════╝            """class LocalConfig(BaseConfig):    SERVER_HOST: str = "127.0.0.1"    SERVER_PORT: int = 5050    DOMAIN = f"http://{SERVER_HOST}:{SERVER_PORT}"    #UI_Headless = False    # 日志配置    LOG_MAX_SIZE = 5  # 单个日志文件最大大小(MB)    LOG_BACKUP = '7 days'  # 保留的日志文件时间    UI_Headless = True  #不可见    UI_Timeout = 5000    INIT_PLAY_BROWSER = False    UI_Headless = True    UI_Timeout = 10000    UI_SLOW = 500    UI_ERROR_PATH = DOMAIN + "/file/ui_case/uid="    FILE_AVATAR_PATH = DOMAIN + "/file/avatar/uid="    APS = os.getenv("APS", "True") == "True"    #APS = False    Record_Proxy = False    #MYSQL_SERVER = "127.0.0.1"    #MYSQL_PASSWORD = "sdkjfhsdkjhfsdkhfksd"    #MYSQL_SERVER = ""    #MYSQL_PASSWORD = ""    #REDIS_SERVER = ""    #REDIS_PASSWORD=""    # MYSQL_PASSWORD = "qq23qq"    MYSQL_SERVER = "192.168.17.6"    MYSQL_PASSWORD = "127.0.0.1"    REDIS_SERVER = "192.168.17.6"    REDIS_PASSWORD="127.0.0.1"    SQLALCHEMY_DATABASE_URI = 'mysql+mysqlconnector://{}:{}@{}:{}/{}'.format(        'root', MYSQL_PASSWORD, MYSQL_SERVER, BaseConfig.MYSQL_PORT, BaseConfig.MYSQL_DATABASE)    ASYNC_SQLALCHEMY_URI = f'mysql+aiomysql://root:{MYSQL_PASSWORD}' \                           f'@{MYSQL_SERVER}:{BaseConfig.MYSQL_PORT}/{BaseConfig.MYSQL_DATABASE}'    UI_TASK_URL = f"{DOMAIN}/ui/task/detail/taskId="    UI_REPORT_URL = f"{DOMAIN}/ui/report/detail/resultId="    Inter_TASK_URL = f"{DOMAIN}/interface/task/detail/taskId="    Inter_REPORT_URL = f"{DOMAIN}/interface/report/detail/resultId="    REDIS_DB = 0    #REDIS_SERVER = "127.0.0.1"    REDIS_URL: str = f"redis://{REDIS_SERVER}:{BaseConfig.REDIS_PORT}/{REDIS_DB}"    REDIS_Broker: str = f"redis://{REDIS_SERVER}:{BaseConfig.REDIS_PORT}/1"    REDIS_Backend: str = f"redis://{REDIS_SERVER}:{BaseConfig.REDIS_PORT}/2"    APSJobStores = {        'default': RedisJobStore(            db=1,  # Redis 数据库编号            jobs_key='apscheduler.jobs',  # 存储任务的键            run_times_key='apscheduler.run_times',  # 存储任务运行时间的键            host=REDIS_SERVER,  # Redis 服务器地址            pickle_protocol=pickle.DEFAULT_PROTOCOL,            port=BaseConfig.REDIS_PORT,  # Redis 服务器端口            #password=None  # Redis 密码（如果没有密码，设置为 None）            password="127.0.0.1"  # Redis 密码        ),    }    CX_Oracle_Client_Dir = "/Users/cyq/Downloads/instantclient_23_3"class ProConfig(BaseConfig):    ...load_dotenv()Config = LocalConfig if os.getenv("ENV", "pro") == "dev" else ProConfig